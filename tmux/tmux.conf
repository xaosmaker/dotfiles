# ~/.tmux.conf

# ============================================
# ESSENTIAL SETTINGS
# ============================================

# Increase scrollback buffer
set -g history-limit 50000

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# Enable focus events for vim autoread
set -g focus-events on

# Set terminal with proper colors
set -g default-terminal "tmux-256color"
set -as terminal-features ",xterm-256color:RGB"

# Aggressive resize for multi-client
setw -g aggressive-resize on

# ============================================
# KEY BINDINGS
# ============================================

# Change prefix to Ctrl+a (more ergonomic)
unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

# Reload config
# bind r source-file ~/.config/tmux/tmux.conf \; display "Config reloaded!"

# ============================================
# APPEARANCE
# ============================================

# Status bar position
set -g status-position top

# Status bar colors
set -g status-style 'bg=#13161d fg=#8b949e'
set -g status-left-length 20
set -g status-right-length 100

# Status bar content
set -g status-left ' #{?client_prefix,#[fg=#ff5555 bold] #S #[default], #S } #[fg=#30363d]│'
set -g status-right '#[fg=#30363d]│#{cpu_fg_color}CPU:#{cpu_percentage} #{cpu_temp_fg_color}#{cpu_temp} #[fg=#30363d]│ #{ram_fg_color}RAM:#{ram_percentage} #[fg=#30363d]│ #{gpu_fg_color}GPU:#{gpu_percentage} #{gpu_temp_fg_color}#{gpu_temp} #{gram_fg_color}#{gram_percentage} #[fg=#30363d]│#[fg=#8b949e] %H:%M #[fg=#30363d]│#[fg=#8b949e] %d-%b-%y '

# Window status
setw -g window-status-format '#I:#W'
setw -g window-status-current-format '#[fg=#00e68a,bold] #I:#W'

# Pane border colors
set -g pane-border-style 'fg=#30363d'
set -g pane-active-border-style 'fg=#00e68a'

# Message styling
set -g message-style 'bg=#13161d fg=#00e68a bold'

set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_path}'

# ============================================
# PLUGINS (via TPM)
# ============================================

# Install TPM first:
# git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-cpu'


# Initialize TPM (keep at bottom)
run '~/.tmux/plugins/tpm/tpm'
